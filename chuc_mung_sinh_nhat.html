
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√∫c M·ª´ng Sinh Nh·∫≠t!</title>
    <style>
        /* ƒê·∫£m b·∫£o canvas chi·∫øm to√†n b·ªô m√†n h√¨nh v√† kh√¥ng c√≥ vi·ªÅn */
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000; /* N·ªÅn ƒëen gi·ªëng video */
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="birthdayCanvas"></canvas>

    <script>
        const canvas = document.getElementById('birthdayCanvas');
        const ctx = canvas.getContext('2d');

        // 1. Thi·∫øt l·∫≠p k√≠ch th∆∞·ªõc canvas
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // X·ª≠ l√Ω khi thay ƒë·ªïi k√≠ch th∆∞·ªõc c·ª≠a s·ªï
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // 2. Danh s√°ch c√°c "h·∫°t" s·∫Ω bay l√™n
        // B·∫°n c√≥ th·ªÉ th√™m ho·∫∑c b·ªõt c√°c t·ª´ v√† bi·ªÉu t∆∞·ª£ng ·ªü ƒë√¢y
        const particleWords = ["Ch√∫c", "M·ª´ng", "Sinh", "Nh·∫≠t", "‚ù§Ô∏è", "‚ô°", "üéâ", "üéÇ"];
        let particles = [];

        // 3. L·ªõp (Class) ƒë·ªãnh nghƒ©a cho m·ªói "h·∫°t"
        class Particle {
            constructor() {
                // V·ªã tr√≠ b·∫Øt ƒë·∫ßu (ng·∫´u nhi√™n ·ªü ƒë√°y m√†n h√¨nh)
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + Math.random() * 50; // B·∫Øt ƒë·∫ßu t·ª´ ngay d∆∞·ªõi ƒë√°y
                
                // T·ªëc ƒë·ªô di chuy·ªÉn
                this.speedY = - (Math.random() * 2 + 1); // T·ªëc ƒë·ªô bay l√™n (lu√¥n √¢m)
                this.speedX = (Math.random() - 0.5) * 1; // T·ªëc ƒë·ªô bay ngang (l·∫Øc l∆∞)

                // K√≠ch th∆∞·ªõc v√† n·ªôi dung
                this.text = particleWords[Math.floor(Math.random() * particleWords.length)];
                this.size = Math.random() * 15 + 10; // K√≠ch th∆∞·ªõc ch·ªØ/bi·ªÉu t∆∞·ª£ng
                
                // ƒê·ªô m·ªù (b·∫Øt ƒë·∫ßu r√µ, m·ªù d·∫ßn)
                this.opacity = 1;
                this.fadeRate = 0.005 + (Math.random() * 0.01); // T·ªëc ƒë·ªô m·ªù
            }

            // C·∫≠p nh·∫≠t v·ªã tr√≠ v√† ƒë·ªô m·ªù
            update() {
                this.y += this.speedY;
                this.x += this.speedX;
                this.opacity -= this.fadeRate;
            }

            // V·∫Ω "h·∫°t" l√™n canvas
            draw() {
                ctx.save(); // L∆∞u tr·∫°ng th√°i canvas
                
                // T·∫°o hi·ªáu ·ª©ng ph√°t s√°ng (gi·ªëng video)
                ctx.shadowColor = '#fff';
                ctx.shadowBlur = 15;
                
                // Thi·∫øt l·∫≠p font v√† m√†u ch·ªØ
                ctx.font = `${this.size}px Arial`;
                // M√†u tr·∫Øng, m·ªù d·∫ßn theo this.opacity
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                
                ctx.fillText(this.text, this.x, this.y);
                
                ctx.restore(); // Ph·ª•c h·ªìi tr·∫°ng th√°i canvas
            }
        }

        // 4. V√≤ng l·∫∑p Animation ch√≠nh
        function animate() {
            // X√≥a m√†n h√¨nh v·ªõi m·ªôt l·ªõp m√†u ƒëen h∆°i trong su·ªët
            // (T·∫°o hi·ªáu ·ª©ng v·ªát m·ªù nh·∫π)
            // N·∫øu mu·ªën r√µ n√©t, d√πng: ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // C·∫≠p nh·∫≠t v√† v·∫Ω t·ª´ng "h·∫°t"
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.update();
                p.draw();

                // N·∫øu "h·∫°t" ƒë√£ m·ªù h·∫øt ho·∫∑c bay ra kh·ªèi m√†n h√¨nh, x√≥a n√≥ ƒëi
                if (p.opacity <= 0 || p.y < -20) {
                    particles.splice(i, 1);
                }
            }

            // Y√™u c·∫ßu tr√¨nh duy·ªát v·∫Ω khung h√¨nh ti·∫øp theo
            requestAnimationFrame(animate);
        }

        // 5. Li√™n t·ª•c t·∫°o "h·∫°t" m·ªõi
        // C·ª© m·ªói 150ms (kho·∫£ng 0.15 gi√¢y) s·∫Ω t·∫°o 1-2 h·∫°t m·ªõi
        setInterval(() => {
            const count = Math.random() * 2 + 1; // T·∫°o 1 ho·∫∑c 2 h·∫°t
            for(let i=0; i < count; i++) {
                particles.push(new Particle());
            }
        }, 150);

        // B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p
        animate();

    </script>
</body>
</html>
